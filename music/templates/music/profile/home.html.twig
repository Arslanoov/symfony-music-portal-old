{% extends 'layouts/main.html.twig' %}

{% block breadcrumbs %}
    <div class="col-sm-6">
        <h1 class="m-0 text-dark">Profile</h1>
    </div>
    <div class="col-sm-6">
        <ol class="breadcrumb float-sm-right">
            <li class="breadcrumb-item"><a href="{{ path('home') }}">Home</a></li>
            <li class="breadcrumb-item active"><a href="#">Profile</a></li>
        </ol>
    </div>
{% endblock %}

{% block title %}Profile{% endblock %}

{% block body %}
    <div class="card">
        <div class="card-body">
            {% include 'layouts/_flashes.html.twig' %}

            <table class="table table-bordered mb-0">
                <tbody>
                    <tr>
                        <th>Avatar</th>
                        <td class="text-center">
                            <div>
                                <img src="{{ user.avatar ?: '/img/avatar/guest.jpg' }}" alt="" width="150px" height="150px">
                            </div>
                            <a href="{{ path('profile.self.avatar.upload') }}" class="btn btn-sm btn-outline-primary btn-upload">
                                {% if app.user.avatar %}Change{% else %}Upload{% endif %} <span class="fa fa-upload"></span>
                            </a>
                            {% if app.user.avatar %}
                                <a href="#" onclick="document.getElementById('remove-avatar-form').submit()" class="btn btn-sm btn-outline-primary btn-upload">
                                    Remove <span class="fa fa-trash-alt"></span>
                                </a>
                            {% endif %}
                            <form action="{{ path('profile.self.avatar.remove') }}" method="POST" id="remove-avatar-form" onsubmit="confirm('Are you sure?')">
                                <input type="hidden" name="token" value="{{ csrf_token('remove-avatar') }}" />
                            </form>
                        </td>
                    </tr>
                    <tr>
                        <th>Login</th>
                        <td>
                            {{ user.login }}
                            <a href="{{ path('profile.self.fill.login') }}" class="btn btn-sm btn-outline-primary">
                                <span class="fa fa-pen"></span>
                            </a>
                        </td>
                    </tr>
                    <tr>
                        <th>Register date</th>
                        <td>
                            {{ user.date }}
                        </td>
                    </tr>
                    <tr>
                        <th>Email</th>
                        <td>
                            {{ user.email }}
                        </td>
                    </tr>
                    <tr>
                        <th>About me</th>
                        <td>
                            {{ user.info_about_me ?: 'Not filled' }}
                            <a href="{{ path('profile.self.fill.about-me') }}" class="btn btn-sm btn-outline-primary">
                                <span class="fa fa-pen"></span>
                            </a>
                        </td>
                    </tr>
                    <tr>
                        <th>Country</th>
                        <td>
                            {{ user.info_country ?: 'Not filled' }}
                            <a href="{{ path('profile.self.fill.country') }}" class="btn btn-sm btn-outline-primary">
                                <span class="fa fa-pen"></span>
                            </a>
                        </td>
                    </tr>
                    <tr>
                        <th>Sex</th>
                        <td>
                            {{ user.info_sex ?: 'Not filled' }}
                            <a href="{{ path('profile.self.fill.sex') }}" class="btn btn-sm btn-outline-primary">
                                <span class="fa fa-pen"></span>
                            </a>
                        </td>
                    </tr>
                    <tr>
                        <th>Age</th>
                        <td>
                            {{ user.info_age }} years
                        </td>
                    </tr>
                <tr>
                    <th>Role</th>
                    <td>
                        {{ user_role(user.role) }}
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
{% endblock %}